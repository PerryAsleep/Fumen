// See the configuration guide for details:
// https://github.com/PerryAsleep/Fumen/blob/master/StepManiaChartGenerator/docs/Config.md
{
	// Logger configuration.
	"LoggerConfig":
	{
		"LogLevel": "Info",
		"LogToFile": true,
		"LogDirectory": "C:\\Fumen\\Logs",
		"LogFlushIntervalSeconds": 20,
		"LogBufferSizeBytes": 10240,
		"LogToConsole": true,
	},

	"RegexTimeoutSeconds": 10.0,
	"CloseAutomaticallyWhenComplete": false,

	"InputDirectory": "C:\\Games\\StepMania 5\\Songs",
	"InputNameRegex": ".*\\.(sm|ssc)$",
	"InputChartType": "dance-single",
	"DifficultyRegex": ".",

	"OutputDirectory": "C:\\Fumen\\Exports",
	"OutputChartType": "dance-double",
	"OverwriteBehavior": "IfFumenGenerated",
	"NonChartFileCopyBehavior": "DoNotCopy",

	"OutputVisualizations": false,
	"VisualizationsDirectory": "C:\\Fumen\\Visualizations",

	"DefaultExpressedChartConfig": "BalancedDynamic",
	"DefaultPerformedChartConfig": "Default",

	"ExpressedChartConfigRules":
	[
		//{"FileRegex": ".*(\\\\|/)MyPackWithNoBrackets.*(\\\\|/).*", "DifficultyRegex": ".", "Config": "NoBrackets"},
	],

	"PerformedChartConfigRules":
	[
		//{"FileRegex": ".*(\\\\|/)MyStaminaPack.*(\\\\|/).*", "DifficultyRegex": ".", "Config": "Stamina"},
	],

	"ExpressedChartConfigs":
	{
		"BalancedDynamic":
		{
			"DefaultBracketParsingMethod": "Balanced",
			"BracketParsingDetermination": "ChooseMethodDynamically",
			"MinLevelForBrackets": 7,
			"UseAggressiveBracketsWhenMoreSimultaneousNotesThanCanBeCoveredWithoutBrackets": true,
			// Interpret charts with three brackets per minute or more as charts which should aggressively interpret bracketable jumps as brackets.
			"BalancedBracketsPerMinuteForAggressiveBrackets": 3.0,
			// Interpret charts with one bracket every minute or less as charts which should not have brackets.
			// Many non-technical charts have jumps with patterns which can reasonably be done by bracketing. With balanced
			// parsing, these charts would produce brackets. This threshold helps keeps non-technical charts bracket-free.
			"BalancedBracketsPerMinuteForNoBrackets": 1.0,
		},
		"NoBrackets":
		{
			"DefaultBracketParsingMethod": "NoBrackets",
			"BracketParsingDetermination": "UseDefaultMethod",
		},
		"AggressiveBrackets":
		{
			"DefaultBracketParsingMethod": "Aggressive",
			"BracketParsingDetermination": "UseDefaultMethod",
		}
	},

	"PerformedChartConfigs":
	{
		// Balanced default settings.
		"Default":
		{
			"ArrowWeights":
			{
				"dance-single": [25, 25, 25, 25],
				"dance-double": [6, 12, 10, 22, 22, 12, 10, 6],
			},

			"StepTightening":
			{
				"TravelSpeedMinTimeSeconds": 0.176471,	// 16ths at 170
				"TravelSpeedMaxTimeSeconds": 0.24,		// 16ths at 125
				"TravelDistanceMin": 2.0,
				"TravelDistanceMax": 3.0,
				"StretchDistanceMin": 3.0,
				"StretchDistanceMax": 4.0,
			},

			"LateralTightening":
			{
				"PatternLength": 5,
				"RelativeNPS": 1.65,
				"AbsoluteNPS": 12.0,
				"Speed": 3.0,
			},

			"Facing":
			{
				"MaxInwardPercentage": 1.0,
				"MaxOutwardPercentage": 1.0,
			},

			"StepTypeFallbacks":
			{
				"SameArrow":
				[
					"SameArrow",
				],
				"NewArrow":
				[
					"NewArrow",
					"SameArrow",
				],
				"CrossoverFront":
				[
					"CrossoverFront",
					"CrossoverBehind",
					"*NewArrow",
				],
				"CrossoverBehind":
				[
					"CrossoverBehind",
					"CrossoverFront",
					"*NewArrow",
				],
				"InvertFront":
				[
					"InvertFront",
					"InvertBehind",
					"*CrossoverFront",
				],
				"InvertBehind":
				[
					"InvertBehind",
					"InvertFront",
					"*CrossoverBehind",
				],
				"FootSwap":
				[
					"FootSwap",
					"*NewArrow",
				],
				"Swing":
				[
					"Swing",
					"*NewArrow",
				],

				"NewArrowStretch":
				[
					"NewArrowStretch",
					"*NewArrow",
				],
				"CrossoverFrontStretch":
				[
					"CrossoverFrontStretch",
					"CrossoverBehindStretch",
					"*CrossoverFront",
				],
				"CrossoverBehindStretch":
				[
					"CrossoverBehindStretch",
					"CrossoverFrontStretch",
					"*CrossoverBehind",
				],
				"InvertFrontStretch":
				[
					"InvertFrontStretch",
					"InvertBehindStretch",
					"InvertFront",
					"InvertBehind",
					"*CrossoverFrontStretch",
				],
				"InvertBehindStretch":
				[
					"InvertBehindStretch",
					"InvertFrontStretch",
					"InvertBehind",
					"InvertFront",
					"*CrossoverBehindStretch",
				],

				"FootSwapCrossoverFront":
				[
					"FootSwapCrossoverFront",
					"FootSwapCrossoverBehind",
					"FootSwap",
					"*CrossoverFront",
				],
				"FootSwapCrossoverBehind":
				[
					"FootSwapCrossoverBehind",
					"FootSwapCrossoverFront",
					"FootSwap",
					"*CrossoverBehind",
				],
				"FootSwapInvertFront":
				[
					"FootSwapInvertFront",
					"FootSwapInvertBehind",
					"FootSwapCrossoverFront",
					"FootSwapCrossoverBehind",
					"FootSwap",
					"InvertFront",
					"InvertBehind",
					"*CrossoverFront",
				],
				"FootSwapInvertBehind":
				[
					"FootSwapInvertBehind",
					"FootSwapInvertFront",
					"FootSwapCrossoverBehind",
					"FootSwapCrossoverFront",
					"FootSwap",
					"InvertBehind",
					"InvertFront",
					"*CrossoverBehind",
				],

				"BracketHeelNewToeNew":
				[
					"BracketHeelNewToeNew",
					"BracketHeelNewToeSame",
					"BracketHeelSameToeNew",
					"BracketHeelSameToeSame",
					"*NewArrow",
				],
				"BracketHeelNewToeSame":
				[
					"BracketHeelNewToeSame",
					"BracketHeelSameToeNew",
					"BracketHeelSameToeSame",
					"*NewArrow",
				],
				"BracketHeelSameToeNew":
				[
					"BracketHeelSameToeNew",
					"BracketHeelNewToeSame",
					"BracketHeelSameToeSame",
					"*NewArrow",
				],
				"BracketHeelSameToeSame":
				[
					"BracketHeelSameToeSame",
					"SameArrow",
				],
				"BracketHeelSameToeSwap":
				[
					"BracketHeelSameToeSwap",
					"BracketHeelSwapToeSame",
					"BracketHeelSameToeNew",
					"BracketHeelNewToeSame",
					"BracketHeelSameToeSame",
					"*FootSwap",
				],
				"BracketHeelNewToeSwap":
				[
					"BracketHeelNewToeSwap",
					"BracketHeelSwapToeNew",
					"BracketHeelNewToeSame",
					"BracketHeelSameToeNew",
					"BracketHeelSameToeSame",
					"*FootSwap",
				],
				"BracketHeelSwapToeSame":
				[
					"BracketHeelSwapToeSame",
					"BracketHeelSameToeSwap",
					"BracketHeelNewToeSame",
					"BracketHeelSameToeNew",
					"BracketHeelSameToeSame",
					"*FootSwap",
				],
				"BracketHeelSwapToeNew":
				[
					"BracketHeelSwapToeNew",
					"BracketHeelNewToeSwap",
					"BracketHeelSameToeNew",
					"BracketHeelNewToeSame",
					"BracketHeelSameToeSame",
					"*FootSwap",
				],
				"BracketHeelSwapToeSwap":
				[
					"BracketHeelSwapToeSwap",
					"BracketHeelSameToeSame",
					"FootSwap",
					"SameArrow",
				],
				"BracketSwing":
				[
					"BracketSwing",
					"*BracketHeelNewToeNew",
				],

				"BracketCrossoverFrontHeelNewToeNew":
				[
					"BracketCrossoverFrontHeelNewToeNew",
					"BracketCrossoverBehindHeelNewToeNew",
					"BracketCrossoverFrontHeelNewToeSame",
					"BracketCrossoverFrontHeelSameToeNew",
					"BracketCrossoverBehindHeelNewToeSame",
					"BracketCrossoverBehindHeelSameToeNew",
					"CrossoverFront",
					"CrossoverBehind",
					"*BracketHeelNewToeNew",
				],
				"BracketCrossoverFrontHeelNewToeSame":
				[
					"BracketCrossoverFrontHeelNewToeSame",
					"BracketCrossoverFrontHeelSameToeNew",
					"BracketCrossoverBehindHeelNewToeSame",
					"BracketCrossoverBehindHeelSameToeNew",
					"CrossoverFront",
					"CrossoverBehind",
					"*BracketHeelNewToeSame",
				],
				"BracketCrossoverFrontHeelSameToeNew":
				[
					"BracketCrossoverFrontHeelSameToeNew",
					"BracketCrossoverFrontHeelNewToeSame",
					"BracketCrossoverBehindHeelSameToeNew",
					"BracketCrossoverBehindHeelNewToeSame",
					"CrossoverFront",
					"CrossoverBehind",
					"*BracketHeelSameToeNew",
				],
				"BracketCrossoverBehindHeelNewToeNew":
				[
					"BracketCrossoverBehindHeelNewToeNew",
					"BracketCrossoverFrontHeelNewToeNew",
					"BracketCrossoverBehindHeelNewToeSame",
					"BracketCrossoverBehindHeelSameToeNew",
					"BracketCrossoverFrontHeelNewToeSame",
					"BracketCrossoverFrontHeelSameToeNew",
					"CrossoverBehind",
					"CrossoverFront",
					"*BracketHeelNewToeNew",
				],
				"BracketCrossoverBehindHeelNewToeSame":
				[
					"BracketCrossoverBehindHeelNewToeSame",
					"BracketCrossoverBehindHeelSameToeNew",
					"BracketCrossoverFrontHeelNewToeSame",
					"BracketCrossoverFrontHeelSameToeNew",
					"CrossoverBehind",
					"CrossoverFront",
					"*BracketHeelNewToeSame",
				],
				"BracketCrossoverBehindHeelSameToeNew":
				[
					"BracketCrossoverBehindHeelSameToeNew",
					"BracketCrossoverBehindHeelNewToeSame",
					"BracketCrossoverFrontHeelSameToeNew",
					"BracketCrossoverFrontHeelNewToeSame",
					"CrossoverBehind",
					"CrossoverFront",
					"*BracketHeelSameToeNew",
				],

				"BracketInvertFrontHeelNewToeNew":
				[
					"BracketInvertFrontHeelNewToeNew",
					"BracketInvertBehindHeelNewToeNew",
					"BracketInvertFrontHeelNewToeSame",
					"BracketInvertFrontHeelSameToeNew",
					"BracketInvertBehindHeelNewToeSame",
					"BracketInvertBehindHeelSameToeNew",
					"InvertFront",
					"InvertBehind",
					"*BracketCrossoverFrontHeelNewToeNew",
				],
				"BracketInvertFrontHeelNewToeSame":
				[
					"BracketInvertFrontHeelNewToeSame",
					"BracketInvertFrontHeelSameToeNew",
					"BracketInvertBehindHeelNewToeSame",
					"BracketInvertBehindHeelSameToeNew",
					"InvertFront",
					"InvertBehind",
					"*BracketCrossoverFrontHeelNewToeSame",
				],
				"BracketInvertFrontHeelSameToeNew":
				[
					"BracketInvertFrontHeelSameToeNew",
					"BracketInvertFrontHeelNewToeSame",
					"BracketInvertBehindHeelSameToeNew",
					"BracketInvertBehindHeelNewToeSame",
					"InvertFront",
					"InvertBehind",
					"*BracketCrossoverFrontHeelSameToeNew",
				],
				"BracketInvertBehindHeelNewToeNew":
				[
					"BracketInvertBehindHeelNewToeNew",
					"BracketInvertFrontHeelNewToeNew",
					"BracketInvertBehindHeelNewToeSame",
					"BracketInvertBehindHeelSameToeNew",
					"BracketInvertFrontHeelNewToeSame",
					"BracketInvertFrontHeelSameToeNew",
					"InvertBehind",
					"InvertFront",
					"*BracketCrossoverBehindHeelNewToeNew",
				],
				"BracketInvertBehindHeelNewToeSame":
				[
					"BracketInvertBehindHeelNewToeSame",
					"BracketInvertBehindHeelSameToeNew",
					"BracketInvertFrontHeelNewToeSame",
					"BracketInvertFrontHeelSameToeNew",
					"InvertBehind",
					"InvertFront",
					"*BracketCrossoverBehindHeelNewToeSame",
				],
				"BracketInvertBehindHeelSameToeNew":
				[
					"BracketInvertBehindHeelSameToeNew",
					"BracketInvertBehindHeelNewToeSame",
					"BracketInvertFrontHeelSameToeNew",
					"BracketInvertFrontHeelNewToeSame",
					"InvertBehind",
					"InvertFront",
					"*BracketCrossoverBehindHeelSameToeNew",
				],

				"BracketStretchHeelNewToeNew":
				[
					"BracketStretchHeelNewToeNew",
					"BracketStretchHeelNewToeSame",
					"BracketStretchHeelSameToeNew",
					"*BracketHeelNewToeNew",
				],
				"BracketStretchHeelNewToeSame":
				[
					"BracketStretchHeelNewToeSame",
					"BracketStretchHeelSameToeNew",
					"*BracketHeelNewToeSame",
				],
				"BracketStretchHeelSameToeNew":
				[
					"BracketStretchHeelSameToeNew",
					"BracketStretchHeelNewToeSame",
					"*BracketHeelSameToeNew",
				],
				
				"BracketOneArrowHeelSame":
				[
					"BracketOneArrowHeelSame",
					"BracketOneArrowToeSame",
					"SameArrow",
				],
				"BracketOneArrowHeelNew":
				[
					"BracketOneArrowHeelNew",
					"BracketOneArrowToeNew",
					"*NewArrow",
				],
				"BracketOneArrowHeelSwap":
				[
					"BracketOneArrowHeelSwap",
					"BracketOneArrowToeSwap",
					"*FootSwap",
				],
				"BracketOneArrowToeSame":
				[
					"BracketOneArrowToeSame",
					"BracketOneArrowHeelSame",
					"SameArrow",
				],
				"BracketOneArrowToeNew":
				[
					"BracketOneArrowToeNew",
					"BracketOneArrowHeelNew",
					"*NewArrow",
				],
				"BracketOneArrowToeSwap":
				[
					"BracketOneArrowToeSwap",
					"BracketOneArrowHeelSwap",
					"*FootSwap",
				],

				"BracketCrossoverFrontOneArrowHeelNew":
				[
					"BracketCrossoverFrontOneArrowHeelNew",
					"BracketCrossoverFrontOneArrowToeNew",
					"BracketOneArrowHeelNew",
					"BracketOneArrowToeNew",
					"*CrossoverFront",
				],
				"BracketCrossoverFrontOneArrowToeNew":
				[
					"BracketCrossoverFrontOneArrowToeNew",
					"BracketCrossoverFrontOneArrowHeelNew",
					"BracketOneArrowToeNew",
					"BracketOneArrowHeelNew",
					"*CrossoverFront",
				],
				"BracketCrossoverBehindOneArrowHeelNew":
				[
					"BracketCrossoverBehindOneArrowHeelNew",
					"BracketCrossoverBehindOneArrowToeNew",
					"BracketOneArrowHeelNew",
					"BracketOneArrowToeNew",
					"*CrossoverBehind",
				],
				"BracketCrossoverBehindOneArrowToeNew":
				[
					"BracketCrossoverBehindOneArrowToeNew",
					"BracketCrossoverBehindOneArrowHeelNew",
					"BracketOneArrowToeNew",
					"BracketOneArrowHeelNew",
					"*CrossoverBehind",
				],

				"BracketInvertFrontOneArrowHeelNew":
				[
					"BracketInvertFrontOneArrowHeelNew",
					"BracketInvertFrontOneArrowToeNew",
					"BracketOneArrowHeelNew",
					"BracketOneArrowToeNew",
					"*InvertFront",
				],
				"BracketInvertFrontOneArrowToeNew":
				[
					"BracketInvertFrontOneArrowToeNew",
					"BracketInvertFrontOneArrowHeelNew",
					"BracketOneArrowToeNew",
					"BracketOneArrowHeelNew",
					"*InvertFront",
				],
				"BracketInvertBehindOneArrowHeelNew": 
				[
					"BracketInvertBehindOneArrowHeelNew",
					"BracketInvertBehindOneArrowToeNew",
					"BracketOneArrowHeelNew",
					"BracketOneArrowToeNew",
					"*InvertBehind",
				],
				"BracketInvertBehindOneArrowToeNew":
				[
					"BracketInvertBehindOneArrowToeNew",
					"BracketInvertBehindOneArrowHeelNew",
					"BracketOneArrowToeNew",
					"BracketOneArrowHeelNew",
					"*InvertBehind",
				],

				"BracketStretchOneArrowHeelNew":
				[
					"BracketStretchOneArrowHeelNew",
					"BracketStretchOneArrowToeNew",
					"*BracketOneArrowHeelNew",
				],
				"BracketStretchOneArrowToeNew":
				[
					"BracketStretchOneArrowToeNew",
					"BracketStretchOneArrowHeelNew",
					"*BracketOneArrowToeNew",
				],
			},
		},

		// Stamina settings are the same as default settings with a higher threshold for
		// StepTightening.TravelSpeedMaxTimeSeconds. This higher threshold would tighten up
		// normal charts too aggressively but for stamina charts it is better to err on
		// tight steps, especially for doubles. Even bpms in the low 110s feel bad when
		// streaming 16ths and having to move more than a bracket distance.
		"Stamina":
		{
			"StepTightening":
			{
				"TravelSpeedMaxTimeSeconds": 0.303,		// 16ths at 99
			},
		},
	},
}