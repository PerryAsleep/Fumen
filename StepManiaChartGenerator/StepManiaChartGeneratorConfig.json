// See the configuration guide for details:
// https://github.com/PerryAsleep/Fumen/blob/master/StepManiaChartGenerator/docs/Config.md
{
	// Logger configuration.
	"LoggerConfig":
	{
		"LogLevel": "Info",
		"LogToFile": true,
		"LogDirectory": "C:\\Fumen\\Logs",
		"LogFlushIntervalSeconds": 20,
		"LogBufferSizeBytes": 10240,
		"LogToConsole": true,
	},

	"RegexTimeoutSeconds": 10.0,
	"CloseAutomaticallyWhenComplete": false,

	"InputDirectory": "C:\\Games\\StepMania 5\\Songs",
	"InputNameRegex": ".*\\.(sm|ssc)$",
	"InputChartType": "dance-single",
	"DifficultyRegex": ".",

	"OutputDirectory": "C:\\Fumen\\Exports",
	"OutputChartType": "dance-double",
	"OverwriteBehavior": "IfFumenGenerated",
	"NonChartFileCopyBehavior": "DoNotCopy",

	"OutputVisualizations": false,
	"VisualizationsDirectory": "C:\\Fumen\\Visualizations",

	"DefaultExpressedChartConfig": "BalancedDynamic",
	"DefaultPerformedChartConfig": "Default",

	"ExpressedChartConfigRules":
	[
		//{"FileRegex": ".*(\\\\|/)MyPackWithNoBrackets.*(\\\\|/).*", "DifficultyRegex": ".", "Config": "NoBrackets"},
	],

	"PerformedChartConfigRules":
	[
		//{"FileRegex": ".*(\\\\|/)MyStaminaPack.*(\\\\|/).*", "DifficultyRegex": ".", "Config": "Stamina"},
	],

	"ExpressedChartConfigs":
	{
		"BalancedDynamic":
		{
			"DefaultBracketParsingMethod": "Balanced",
			"BracketParsingDetermination": "ChooseMethodDynamically",
			"MinLevelForBrackets": 7,
			"UseAggressiveBracketsWhenMoreSimultaneousNotesThanCanBeCoveredWithoutBrackets": true,
			// Interpret charts with three brackets per minute or more as charts which should aggressively interpret bracketable jumps as brackets.
			"BalancedBracketsPerMinuteForAggressiveBrackets": 3.0,
			// Interpret charts with one bracket every minute or less as charts which should not have brackets.
			// Many non-technical charts have jumps with patterns which can reasonably be done by bracketing. With balanced
			// parsing, these charts would produce brackets. This threshold helps keeps non-technical charts bracket-free.
			"BalancedBracketsPerMinuteForNoBrackets": 1.0,
		},
		"NoBrackets":
		{
			"DefaultBracketParsingMethod": "NoBrackets",
			"BracketParsingDetermination": "UseDefaultMethod",
		},
		"AggressiveBrackets":
		{
			"DefaultBracketParsingMethod": "Aggressive",
			"BracketParsingDetermination": "UseDefaultMethod",
		}
	},

	"PerformedChartConfigs":
	{
		// Balanced default settings.
		"Default":
		{
			"ArrowWeights":
			{
				"dance-single": [25, 25, 25, 25],
				"dance-double": [6, 12, 10, 22, 22, 12, 10, 6],
			},

			"StepTightening":
			{
				"TravelSpeedMinTimeSeconds": 0.176471,	// 16ths at 170
				"TravelSpeedMaxTimeSeconds": 0.24,		// 16ths at 125
				"TravelDistanceMin": 2.0,
				"TravelDistanceMax": 3.0,
				"StretchDistanceMin": 3.0,
				"StretchDistanceMax": 4.0,
			},

			"LateralTightening":
			{
				"PatternLength": 5,
				"RelativeNPS": 1.65,
				"AbsoluteNPS": 12.0,
				"Speed": 3.0,
			},

			"Facing":
			{
				"MaxInwardPercentage": 1.0,
				"MaxOutwardPercentage": 1.0,
			},
		},

		// Stamina settings are the same as default settings with a higher threshold for
		// StepTightening.TravelSpeedMaxTimeSeconds. This higher threshold would tighten up
		// normal charts too aggressively but for stamina charts it is better to err on
		// tight steps, especially for doubles. Even bpms in the low 110s feel bad when
		// streaming 16ths and having to move more than a bracket distance.
		"Stamina":
		{
			"StepTightening":
			{
				"TravelSpeedMaxTimeSeconds": 0.303,		// 16ths at 99
			},
		},
	},

	"StepTypeReplacements" :
	{
		"SameArrow": [ "SameArrow" ],
		"NewArrow": [ "NewArrow" ],
		"CrossoverFront": [ "CrossoverFront" ],
		"CrossoverBehind": [ "CrossoverBehind" ],
		"InvertFront": [ "InvertFront" ],
		"InvertBehind": [ "InvertBehind" ],
		"FootSwap": [ "FootSwap" ],
		"NewArrowStretch": [ "NewArrowStretch" ],

		"BracketHeelNewToeNew":[ "BracketHeelNewToeNew" ],
		"BracketHeelNewToeSame":[ "BracketHeelNewToeSame", "BracketHeelSameToeNew" ],
		"BracketHeelSameToeNew":[ "BracketHeelSameToeNew", "BracketHeelNewToeSame" ],
		"BracketHeelSameToeSame":[ "BracketHeelSameToeSame" ],
		"BracketHeelSameToeSwap":[ "BracketHeelSameToeSwap", "BracketHeelSwapToeSame" ],
		"BracketHeelNewToeSwap":[ "BracketHeelNewToeSwap", "BracketHeelSwapToeNew" ],
		"BracketHeelSwapToeSame":[ "BracketHeelSwapToeSame", "BracketHeelSameToeSwap" ],
		"BracketHeelSwapToeNew":[ "BracketHeelSwapToeNew", "BracketHeelNewToeSwap" ],
		"BracketHeelSwapToeSwap":[ "BracketHeelSwapToeSwap"],

		"BracketCrossoverFrontHeelNewToeNew":[ "BracketCrossoverFrontHeelNewToeNew" ],
		"BracketCrossoverFrontHeelNewToeSame":[ "BracketCrossoverFrontHeelNewToeSame", "BracketCrossoverFrontHeelSameToeNew" ],
		"BracketCrossoverFrontHeelSameToeNew":[ "BracketCrossoverFrontHeelSameToeNew", "BracketCrossoverFrontHeelNewToeSame" ],
		"BracketCrossoverBackHeelNewToeNew":[ "BracketCrossoverBackHeelNewToeNew" ],
		"BracketCrossoverBackHeelNewToeSame":[ "BracketCrossoverBackHeelNewToeSame", "BracketCrossoverBackHeelSameToeNew" ],
		"BracketCrossoverBackHeelSameToeNew":[ "BracketCrossoverBackHeelSameToeNew", "BracketCrossoverBackHeelNewToeSame" ],

		"BracketInvertFrontHeelNewToeNew": [ "BracketInvertFrontHeelNewToeNew" ],
		"BracketInvertFrontHeelNewToeSame": [ "BracketInvertFrontHeelNewToeSame", "BracketInvertFrontHeelSameToeNew" ],
		"BracketInvertFrontHeelSameToeNew": [ "BracketInvertFrontHeelSameToeNew", "BracketInvertFrontHeelNewToeSame" ],
		"BracketInvertBackHeelNewToeNew": [ "BracketInvertBackHeelNewToeNew" ],
		"BracketInvertBackHeelNewToeSame": [ "BracketInvertBackHeelNewToeSame", "BracketInvertBackHeelSameToeNew" ],
		"BracketInvertBackHeelSameToeNew": [ "BracketInvertBackHeelSameToeNew", "BracketInvertBackHeelNewToeSame" ],

		"BracketStretchHeelNewToeNew": [ "BracketStretchHeelNewToeNew" ],
		"BracketStretchHeelNewToeSame": [ "BracketStretchHeelNewToeSame", "BracketStretchHeelSameToeNew" ],
		"BracketStretchHeelSameToeNew": [ "BracketStretchHeelSameToeNew", "BracketStretchHeelNewToeSame" ],
		
		"BracketOneArrowHeelSame": [ "BracketOneArrowHeelSame" ],
		"BracketOneArrowHeelNew": [ "BracketOneArrowHeelNew", "BracketOneArrowToeNew" ],
		"BracketOneArrowHeelSwap": ["BracketOneArrowHeelSwap", "BracketOneArrowToeSwap"],
		"BracketOneArrowToeSame": [ "BracketOneArrowToeSame" ],
		"BracketOneArrowToeNew": [ "BracketOneArrowToeNew", "BracketOneArrowHeelNew" ],
		"BracketOneArrowToeSwap": ["BracketOneArrowToeSwap", "BracketOneArrowHeelSwap"],

		"BracketCrossoverFrontOneArrowHeelNew": [ "BracketCrossoverFrontOneArrowHeelNew", "BracketCrossoverFrontOneArrowToeNew" ],
		"BracketCrossoverFrontOneArrowToeNew": [ "BracketCrossoverFrontOneArrowToeNew", "BracketCrossoverFrontOneArrowHeelNew" ],
		"BracketCrossoverBackOneArrowHeelNew": [ "BracketCrossoverBackOneArrowHeelNew", "BracketCrossoverBackOneArrowToeNew" ],
		"BracketCrossoverBackOneArrowToeNew": [ "BracketCrossoverBackOneArrowToeNew", "BracketCrossoverBackOneArrowHeelNew" ],

		"BracketInvertFrontOneArrowHeelNew": [ "BracketInvertFrontOneArrowHeelNew", "BracketInvertFrontOneArrowToeNew" ],
		"BracketInvertFrontOneArrowToeNew": [ "BracketInvertFrontOneArrowToeNew", "BracketInvertFrontOneArrowHeelNew" ],
		"BracketInvertBackOneArrowHeelNew": [ "BracketInvertBackOneArrowHeelNew", "BracketInvertBackOneArrowToeNew" ],
		"BracketInvertBackOneArrowToeNew": [ "BracketInvertBackOneArrowToeNew", "BracketInvertBackOneArrowHeelNew" ],

		"BracketStretchOneArrowHeelNew": [ "BracketStretchOneArrowHeelNew", "BracketStretchOneArrowToeNew" ],
		"BracketStretchOneArrowToeNew": [ "BracketStretchOneArrowToeNew", "BracketStretchOneArrowHeelNew" ],
	},
}